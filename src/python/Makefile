#!/usr/bin/make
#This Makefile was automatically generated by tg2make using the sourcefile Makefile.tg.

tg2make:tg2make.tg pycfg
	tgtemplate tg2make.tg --comment-prefix=\ \# --dont-comment-square-zero > tg2make
	chmod +x ./tg2make

pycfg:pycfg.tg
	tgtemplate pycfg.tg --comment-prefix=\ \# --dont-comment-square-zero > .pycfg
	mv .pycfg pycfg
	chmod +x ./pycfg

mge:pycfg mge.tg
	tgtemplate mge.tg --comment-prefix=\ \# --dont-comment-square-zero > mge
	chmod +x ./mge

mge-debug:pycfg mge.tg
	tgtemplate mge.tg --comment-prefix=\ \# --dont-comment-square-zero > mge-debug
	chmod +x ./mge-debug

all:tg2make pycfg mge
	

code-visualizations/svgs:
	

code-visualizations/keybindings-filled.tg:code-visualizations/keypress-callgraph.tg mge-config.tg code-visualizations/modes.tg code-visualizations/keybindings-generator
	./code-visualizations/keybindings-generator --config-file=mge-config.tg --modes-file=code-visualizations/modes.tg --keypress-call-graph-file=code-visualizations/keypress-callgraph.tg --out=code-visualizations/keybindings-filled.tg

code-visualizations/keypress-callgraph.tg:mge.tg
	tgfilter --street-neq=\#submap --rezero 12 mge.tg > code-visualizations/keypress-callgraph.tg

code-visualizations/keybindings-generator:pycfg code-visualizations/keybindings-generator.tg
	tgtemplate code-visualizations/keybindings-generator.tg --comment-prefix=\ \# --dont-comment-square-zero > code-visualizations/keybindings-generator
	chmod +x code-visualizations/keybindings-generator

